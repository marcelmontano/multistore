<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolarCuba | Kits Solares Certificados - Independencia Energética</title>
    <meta name="description" content="Venta e instalación de paneles solares en Cuba. Kits de 120V y 220V. Certificado de instalación incluido. Garantía de 1 año.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanta/0.5.24/vanta.net.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        solar: { gold: '#FFD700', orange: '#FFA500', dark: '#0f172a' }
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                        tech: ['Orbitron', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #0f172a; color: #e2e8f0; }
        .glass-panel {
            background: rgba(30, 41, 59, 0.75);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        .glass-card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 215, 0, 0.1);
            transition: all 0.3s ease;
        }
        .glass-card:hover {
            border-color: #FFD700;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px -10px rgba(255, 215, 0, 0.3);
        }
        .whatsapp-float {
            position: fixed; bottom: 30px; right: 30px; z-index: 1000;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(37, 211, 102, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
        }
        /* Modal Styles */
        body.modal-active { overflow: hidden; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        
        /* Alerta Pulsante */
        .voltage-alert { animation: flashRed 1.5s infinite; }
        @keyframes flashRed { 0%, 100% { background-color: rgba(220, 38, 38, 0.2); } 50% { background-color: rgba(220, 38, 38, 0.5); } }
    </style>
</head>
<body class="antialiased selection:bg-yellow-500 selection:text-black">

    <!-- WhatsApp Float -->
    <a href="https://wa.me/5358183649" target="_blank" class="whatsapp-float group">
        <div class="relative">
            <div class="absolute -top-10 right-0 bg-white text-black text-xs font-bold px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity w-48 text-center shadow-lg">
                ¡Consultar disponibilidad!
            </div>
            <div class="w-16 h-16 bg-[#25D366] rounded-full flex items-center justify-center text-white text-3xl shadow-2xl hover:bg-[#20ba5a] transition">
                <i class="fab fa-whatsapp"></i>
            </div>
        </div>
    </a>

    <!-- Navbar -->
    <nav class="fixed w-full z-50 glass-panel border-b-0 top-0">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-solar-panel text-3xl text-yellow-400"></i>
                    <span class="text-xl md:text-2xl font-tech font-bold tracking-wider text-white">SOLAR<span class="text-yellow-400">CUBA</span></span>
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="#garantia" class="text-yellow-400 font-bold uppercase text-xs tracking-widest hover:text-white transition flex items-center border border-yellow-400/30 px-3 py-1 rounded"><i class="fas fa-certificate mr-2"></i> Garantía</a>
                    <a href="#kits" class="text-gray-300 hover:text-yellow-400 transition font-medium uppercase text-xs tracking-widest py-2">Kits</a>
                    <a href="#simulador" class="text-gray-300 hover:text-yellow-400 transition font-medium uppercase text-xs tracking-widest py-2">Calculadora</a>
                    <a href="#pagos" class="text-gray-300 hover:text-yellow-400 transition font-medium uppercase text-xs tracking-widest py-2">Pagos</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="relative min-h-[85vh] flex items-center justify-center pt-20">
        <div id="vanta-bg" class="absolute inset-0 z-0 opacity-50"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-[#0f172a] via-[#0f172a]/90 to-transparent z-10"></div>
        
        <div class="relative z-20 max-w-7xl mx-auto px-4 text-center">
            <div class="inline-block mb-6 px-6 py-2 rounded-full border border-green-500/50 bg-green-500/10 backdrop-blur-md">
                <span class="text-green-400 text-sm font-bold tracking-wider uppercase"><i class="fas fa-check-circle mr-2"></i>Certificado Técnico de Instalación Incluido</span>
            </div>
            <h1 class="text-4xl md:text-6xl font-bold mb-6 text-white leading-tight">
                Energía Solar Profesional<br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500 font-tech">PARA CUBA</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-300 mb-10 max-w-3xl mx-auto leading-relaxed">
                Sistemas de <strong>120V y 220V</strong> adaptados a tus equipos. Instalaciones con cable 100% cobre y garantía de 1 año. 
                No arriesgues tu inversión con equipos mal dimensionados.
            </p>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#kits" class="px-8 py-4 bg-yellow-500 text-black font-bold rounded-xl hover:bg-yellow-400 transition shadow-[0_0_20px_rgba(255,215,0,0.4)] flex items-center justify-center transform hover:scale-105 duration-200">
                    Ver Kits Disponibles
                </a>
                <a href="#simulador" class="px-8 py-4 glass-panel text-white font-bold rounded-xl hover:bg-white/10 transition flex items-center justify-center border border-white/20">
                    <i class="fas fa-calculator mr-2"></i> Probar Simulador
                </a>
            </div>
        </div>
    </section>

    <!-- Warranty Section -->
    <section id="garantia" class="py-12 bg-gradient-to-b from-[#0f172a] to-[#1e293b] relative border-y border-gray-800">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-6 text-center">
                <div class="p-6 rounded-xl bg-gray-800/40 border border-gray-700">
                    <i class="fas fa-shield-alt text-3xl text-yellow-500 mb-3"></i>
                    <h3 class="text-lg font-bold text-white">1 Año de Garantía</h3>
                    <p class="text-gray-400 text-sm">Cobertura completa en inversor, baterías y paneles ante defectos de fábrica.</p>
                </div>
                <div class="p-6 rounded-xl bg-gray-800/40 border border-green-500/30">
                    <i class="fas fa-file-signature text-3xl text-green-500 mb-3"></i>
                    <h3 class="text-lg font-bold text-white">Certificación Oficial</h3>
                    <p class="text-gray-400 text-sm">Entregamos Certificado de Instalación validando que tu sistema cumple las normas técnicas.</p>
                </div>
                <div class="p-6 rounded-xl bg-gray-800/40 border border-gray-700">
                    <i class="fas fa-tools text-3xl text-blue-500 mb-3"></i>
                    <h3 class="text-lg font-bold text-white">Instalación Premium</h3>
                    <p class="text-gray-400 text-sm">Usamos expansiones de calidad, canaletas y cable 100% cobre. Nada de "inventos".</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Kits Section -->
    <section id="kits" class="py-20 relative bg-[#0f172a]">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold text-white mb-4">Nuestros Kits Solares</h2>
                <p class="text-yellow-500 font-medium max-w-2xl mx-auto p-3 bg-yellow-900/20 rounded border border-yellow-500/30">
                    <i class="fas fa-exclamation-triangle mr-2"></i> Atención: Verifica el voltaje (120V vs 220V) según los equipos que desees conectar.
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                
                <!-- Kit 5kW (120V ONLY) -->
                <div class="glass-card rounded-2xl overflow-hidden flex flex-col relative group border border-gray-700">
                    <div class="absolute top-0 right-0 bg-gray-700 text-white text-xs font-bold px-3 py-1 rounded-bl-lg">120V SOLAMENTE</div>
                    <div class="bg-gray-800/80 p-6 border-b border-gray-700">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-2xl font-bold text-white">Kit 5kW Residencial</h3>
                            <div class="text-right">
                                <div class="text-yellow-400 font-bold text-2xl">$4,685</div>
                                <div class="text-xs text-gray-400">+ $500 Instalación</div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300"><i class="fas fa-info-circle text-blue-400"></i> Ideal para luces, refrigerador, TV y ventiladores. <strong>NO soporta equipos 220V.</strong></p>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <ul class="space-y-3 text-sm text-gray-300 mb-6">
                            <li class="flex items-center"><i class="fas fa-bolt text-red-400 w-8 text-center"></i> <strong>Voltaje Salida: 120V AC</strong></li>
                            <li class="flex items-center"><i class="fas fa-battery-full text-blue-400 w-8 text-center"></i> Bat. LiFePO4 10.49 kWh (205Ah)</li>
                            <li class="flex items-center"><i class="fas fa-solar-panel text-yellow-500 w-8 text-center"></i> 6 Paneles 620Wp (3720Wp)</li>
                        </ul>
                        <div class="mt-auto grid grid-cols-2 gap-3">
                            <button onclick="openModal('5kw')" class="py-3 border border-gray-500 text-gray-300 rounded-lg hover:bg-gray-700 hover:text-white transition text-sm font-medium">
                                + Ficha Técnica
                            </button>
                            <a href="https://wa.me/5358183649?text=Hola,%20me%20interesa%20el%20Kit%205kW%20(120V).%20Quiero%20saber%20si%20me%20sirve." target="_blank" class="py-3 bg-[#25D366] hover:bg-[#20ba5a] text-white rounded-lg text-center transition text-sm font-bold flex items-center justify-center shadow-lg">
                                <i class="fab fa-whatsapp mr-2"></i> Comprar
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Kit 6.5kW (120/240V) -->
                <div class="glass-card rounded-2xl overflow-hidden flex flex-col relative group border-t-4 border-yellow-500">
                    <div class="absolute top-0 right-0 bg-yellow-500 text-black text-xs font-bold px-3 py-1 rounded-bl-lg">120V / 240V</div>
                    <div class="bg-gray-800/80 p-6 border-b border-gray-700">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-2xl font-bold text-white">Kit 6.5kW Split-Phase</h3>
                            <div class="text-right">
                                <div class="text-yellow-400 font-bold text-2xl">$6,985</div>
                                <div class="text-xs text-gray-400">+ $750 Instalación</div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300">Soporta equipos 220V (Splits, Bombas) y 110V simultáneamente.</p>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <ul class="space-y-3 text-sm text-gray-300 mb-6">
                            <li class="flex items-center"><i class="fas fa-bolt text-green-400 w-8 text-center"></i> <strong>Voltaje: 120V y 240V AC</strong></li>
                            <li class="flex items-center"><i class="fas fa-battery-full text-blue-400 w-8 text-center"></i> Bat. LiFePO4 14.33 kWh (280Ah)</li>
                            <li class="flex items-center"><i class="fas fa-solar-panel text-yellow-500 w-8 text-center"></i> 12 Paneles 620Wp (7440Wp)</li>
                        </ul>
                        <div class="mt-auto grid grid-cols-2 gap-3">
                            <button onclick="openModal('6.5kw')" class="py-3 border border-gray-500 text-gray-300 rounded-lg hover:bg-gray-700 hover:text-white transition text-sm font-medium">
                                + Ficha Técnica
                            </button>
                            <a href="https://wa.me/5358183649?text=Hola,%20me%20interesa%20el%20Kit%206.5kW%20(220V).%20Necesito%20conectar%20Splits." target="_blank" class="py-3 bg-[#25D366] hover:bg-[#20ba5a] text-white rounded-lg text-center transition text-sm font-bold flex items-center justify-center shadow-lg">
                                <i class="fab fa-whatsapp mr-2"></i> Comprar
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Kit 10kW (120/240V) -->
                <div class="glass-card rounded-2xl overflow-hidden flex flex-col relative group">
                    <div class="absolute top-0 right-0 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-bl-lg">POTENCIA TOTAL</div>
                    <div class="bg-gray-800/80 p-6 border-b border-gray-700">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-2xl font-bold text-white">Kit 10kW Pro</h3>
                            <div class="text-right">
                                <div class="text-yellow-400 font-bold text-2xl">$8,605</div>
                                <div class="text-xs text-gray-400">+ $950 Instalación</div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300">Para viviendas grandes o negocios. Maneja múltiples aires acondicionados.</p>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <ul class="space-y-3 text-sm text-gray-300 mb-6">
                            <li class="flex items-center"><i class="fas fa-bolt text-green-400 w-8 text-center"></i> <strong>Voltaje: 120V y 240V AC</strong></li>
                            <li class="flex items-center"><i class="fas fa-battery-full text-blue-400 w-8 text-center"></i> Bat. LiFePO4 14.33 kWh (280Ah)</li>
                            <li class="flex items-center"><i class="fas fa-solar-panel text-yellow-500 w-8 text-center"></i> 16 Paneles 620Wp (9920Wp)</li>
                        </ul>
                        <div class="mt-auto grid grid-cols-2 gap-3">
                            <button onclick="openModal('10kwA')" class="py-3 border border-gray-500 text-gray-300 rounded-lg hover:bg-gray-700 hover:text-white transition text-sm font-medium">
                                + Ficha Técnica
                            </button>
                            <a href="https://wa.me/5358183649?text=Hola,%20necesito%20potencia.%20Me%20interesa%20el%20Kit%2010kW%20Pro." target="_blank" class="py-3 bg-[#25D366] hover:bg-[#20ba5a] text-white rounded-lg text-center transition text-sm font-bold flex items-center justify-center shadow-lg">
                                <i class="fab fa-whatsapp mr-2"></i> Comprar
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Kit 10kW Plus (20kWh) -->
                <div class="glass-card rounded-2xl overflow-hidden flex flex-col relative group border border-yellow-500 shadow-[0_0_15px_rgba(255,215,0,0.15)]">
                    <div class="bg-gradient-to-r from-yellow-600 to-orange-600 p-3 flex justify-between items-center">
                        <span class="text-black font-bold text-sm"><i class="fas fa-crown mr-2"></i> VERSIÓN PLUS</span>
                        <span class="bg-black/30 text-white text-xs px-2 py-1 rounded">MAX BATERÍA</span>
                    </div>
                    <div class="bg-gray-800/80 p-6 border-b border-gray-700">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-2xl font-bold text-white">Kit 10kW PLUS</h3>
                            <div class="text-right">
                                <div class="text-white font-bold text-2xl">$9,930</div>
                                <div class="text-xs text-gray-400">+ $950 Instalación</div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-400">Máxima autonomía nocturna. Banco de baterías ampliado.</p>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <ul class="space-y-3 text-sm text-gray-300 mb-6">
                            <li class="flex items-center"><i class="fas fa-bolt text-green-400 w-8 text-center"></i> <strong>Voltaje: 120V y 240V AC</strong></li>
                            <li class="flex items-center"><i class="fas fa-battery-full text-yellow-500 w-8 text-center"></i> <strong>20.48 kWh</strong> (4x 5.12kWh)</li>
                            <li class="flex items-center"><i class="fas fa-solar-panel text-yellow-500 w-8 text-center"></i> 16 Paneles 620Wp (9920Wp)</li>
                        </ul>
                        <div class="mt-auto grid grid-cols-2 gap-3">
                            <button onclick="openModal('10kwB')" class="py-3 border border-gray-500 text-gray-300 rounded-lg hover:bg-gray-700 hover:text-white transition text-sm font-medium">
                                + Ficha Técnica
                            </button>
                            <a href="https://wa.me/5358183649?text=Hola,%20quiero%20el%20mejor%20equipo.%20Kit%2010kW%20PLUS%20(20kWh)." target="_blank" class="py-3 bg-[#25D366] hover:bg-[#20ba5a] text-white rounded-lg text-center transition text-sm font-bold flex items-center justify-center shadow-lg">
                                <i class="fab fa-whatsapp mr-2"></i> Comprar
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Calculator Section -->
    <section id="simulador" class="py-20 bg-[#0b1120] relative border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-5xl font-bold text-white mb-4">Calculadora y Simulador</h2>
                <p class="text-gray-400">Verifica la compatibilidad de voltaje y la autonomía de tu kit.</p>
            </div>

            <div class="grid lg:grid-cols-12 gap-6">
                <!-- Appliances -->
                <div class="lg:col-span-5 glass-panel rounded-2xl p-6">
                    <h3 class="text-lg font-bold text-white mb-4 border-b border-gray-700 pb-2"><i class="fas fa-plug text-yellow-500 mr-2"></i>Equipos a Conectar</h3>
                    <div class="space-y-2 overflow-y-auto max-h-[500px] pr-2" id="applianceList">
                        <!-- JS Generated -->
                    </div>
                </div>

                <!-- Settings -->
                <div class="lg:col-span-3 flex flex-col gap-4">
                    <div class="glass-panel rounded-2xl p-6 h-full flex flex-col">
                        <h3 class="text-lg font-bold text-white mb-4 border-b border-gray-700 pb-2"><i class="fas fa-cogs text-blue-400 mr-2"></i>Configuración</h3>
                        
                        <label class="block text-xs text-gray-500 mb-1">Elige tu Kit</label>
                        <select id="kitSelect" class="w-full bg-gray-800 border border-gray-600 text-white rounded-lg p-3 mb-4 focus:border-yellow-500 outline-none text-sm">
                            <option value="5kw">Kit 5kW (120V)</option>
                            <option value="6.5kw">Kit 6.5kW (120/240V)</option>
                            <option value="10kwA">Kit 10kW (120/240V)</option>
                            <option value="10kwB">Kit 10kW Plus (20.48 kWh)</option>
                        </select>

                        <div class="flex items-center justify-between mt-4">
                            <span class="text-gray-300 text-sm"><i class="fas fa-moon mr-2 text-blue-300"></i>Simular Noche</span>
                            <input type="checkbox" id="nightMode" class="w-5 h-5 accent-yellow-500">
                        </div>
                        
                        <div id="kitSpecs" class="mt-auto pt-4 text-xs text-gray-400 border-t border-gray-700">
                            <!-- Dynamic specs -->
                        </div>
                    </div>
                </div>

                <!-- Results -->
                <div class="lg:col-span-4 glass-panel rounded-2xl p-6 border-t-4 border-yellow-500 flex flex-col justify-between">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-4"><i class="fas fa-chart-pie text-green-500 mr-2"></i>Análisis de Carga</h3>
                        
                        <div class="mb-6">
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">Carga Total</span>
                                <span class="font-mono text-yellow-400 font-bold" id="currentLoad">0 W</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-3 overflow-hidden">
                                <div id="loadBar" class="h-full bg-green-500 transition-all duration-500" style="width: 0%"></div>
                            </div>
                            <div class="text-right text-xs text-gray-500 mt-1" id="inverterLimit">Límite: 5000W</div>
                        </div>

                        <div id="voltageWarning" class="hidden p-3 mb-4 rounded bg-red-900/50 border border-red-500 text-red-200 text-xs font-bold text-center voltage-alert">
                            <i class="fas fa-exclamation-triangle text-lg block mb-1"></i>
                            ¡ERROR DE VOLTAJE!<br>El Kit de 5kW es solo 120V. No soporta equipos 220V. Elige el Kit 6.5kW.
                        </div>

                        <div class="text-center py-6 bg-gray-800/50 rounded-xl border border-gray-700 mb-4">
                            <div class="text-gray-400 text-xs uppercase tracking-wider mb-1">Autonomía Estimada</div>
                            <div class="text-4xl font-tech font-bold text-white" id="autonomyResult">-- h</div>
                            <div class="text-xs text-yellow-500 mt-2 px-2" id="autonomyMsg">Agrega equipos</div>
                        </div>
                    </div>

                    <div class="mt-2">
                        <div class="flex justify-between items-end mb-2">
                            <span class="text-gray-400 text-sm">Total Instalado:</span>
                            <span class="text-2xl font-bold text-white" id="totalPriceDisplay">$0 USD</span>
                        </div>
                        <a href="https://wa.me/5358183649" class="block w-full py-3 bg-[#25D366] hover:bg-[#20ba5a] text-white font-bold rounded-lg text-center transition shadow-lg">
                            <i class="fab fa-whatsapp mr-2"></i> Consultar Experto
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Payment Section -->
    <section id="pagos" class="py-16 bg-black/50 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-bold text-white mb-4 border-b border-yellow-500 inline-block">Métodos de Pago</h3>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li class="flex items-center justify-between bg-gray-800 p-3 rounded"><span class="flex items-center"><i class="fas fa-dollar-sign text-green-500 w-6"></i> USD (Efectivo)</span> <i class="fas fa-check text-green-500"></i></li>
                        <li class="flex items-center justify-between bg-gray-800 p-3 rounded"><span class="flex items-center"><i class="fas fa-euro-sign text-blue-400 w-6"></i> Euros (Efectivo)</span> <i class="fas fa-check text-green-500"></i></li>
                        <li class="flex items-center justify-between bg-gray-800 p-3 rounded"><span class="flex items-center"><i class="fas fa-university text-purple-400 w-6"></i> Zelle</span> <i class="fas fa-check text-green-500"></i></li>
                        <li class="flex items-center justify-between bg-gray-800 p-3 rounded"><span class="flex items-center"><i class="fab fa-paypal text-blue-600 w-6"></i> Paypal</span> <i class="fas fa-check text-green-500"></i></li>
                        <li class="flex items-center justify-between bg-gray-800 p-3 rounded border-l-2 border-yellow-500">
                            <span class="flex items-center"><i class="fas fa-coins text-yellow-600 w-6"></i> CUP (+10 Tasa)</span>
                            <span class="text-xs bg-gray-900 px-2 py-1 rounded">Max 400 USD</span>
                        </li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold text-white mb-4 border-b border-blue-500 inline-block">Costo Instalación</h3>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li class="flex justify-between bg-gray-800 p-3 rounded"><span>Kit 5kW</span> <span class="font-bold text-white">500 USD</span></li>
                        <li class="flex justify-between bg-gray-800 p-3 rounded"><span>Kit 6.5kW</span> <span class="font-bold text-white">750 USD</span></li>
                        <li class="flex justify-between bg-gray-800 p-3 rounded"><span>Kit 10kW</span> <span class="font-bold text-white">950 USD</span></li>
                    </ul>
                    <div class="mt-4 text-xs text-gray-400 bg-gray-900 p-3 rounded border border-gray-700">
                        <strong>Incluye:</strong> Cable 100% cobre, canaletas, manguera corrugada y expansiones.
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-bold text-white mb-4 border-b border-green-500 inline-block">Envíos</h3>
                    <div class="bg-green-900/20 p-4 rounded border border-green-500/30 mb-3">
                        <div class="font-bold text-white flex items-center"><i class="fas fa-map-marker-alt text-red-500 mr-2"></i> La Habana</div>
                        <div class="text-sm text-gray-300">Mensajería GRATIS hasta su domicilio.</div>
                    </div>
                    <div class="bg-gray-800 p-4 rounded">
                        <div class="font-bold text-white flex items-center"><i class="fas fa-truck text-blue-400 mr-2"></i> Provincias</div>
                        <div class="text-sm text-gray-300">Costo adicional según destino. Consultar por WhatsApp.</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-black py-8 text-center border-t border-gray-900 mt-10">
        <div class="max-w-7xl mx-auto px-4">
            <p class="text-gray-500 text-sm">© 2024 SolarCuba. Expertos Certificados.</p>
        </div>
    </footer>

    <!-- MODAL SYSTEM -->
    <div id="modalOverlay" class="fixed inset-0 bg-black/90 z-[60] hidden flex items-center justify-center p-2 backdrop-blur-sm" onclick="closeModal()">
        <div id="modalContent" class="bg-[#1e293b] w-full max-w-2xl rounded-xl border border-yellow-500/20 shadow-2xl max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
            <div class="sticky top-0 bg-[#1e293b] p-4 border-b border-gray-700 flex justify-between items-center z-10">
                <h3 id="modalTitle" class="text-xl font-bold text-white font-tech">Detalles del Kit</h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white text-2xl">&times;</button>
            </div>
            <div id="modalBody" class="p-6"></div>
        </div>
    </div>

    <script>
        // Background Animation
        if (typeof VANTA !== 'undefined') {
            VANTA.NET({
                el: "#vanta-bg",
                mouseControls: true, touchControls: true, gyroControls: false,
                minHeight: 200.00, minWidth: 200.00, scale: 1.00, scaleMobile: 1.00,
                color: 0xffa500, backgroundColor: 0x0f172a, points: 8.00, maxDistance: 20.00, spacing: 18.00
            })
        }

        // --- APPLIANCE DATA (With Voltage Check) ---
        const appliances = [
            { id: 'refri', name: 'Refrigerador', w: 200, v: 110, icon: 'fa-snowflake' },
            { id: 'lights', name: 'Luces LED (x5)', w: 50, v: 110, icon: 'fa-lightbulb' },
            { id: 'tv', name: 'TV + Cajita', w: 100, v: 110, icon: 'fa-tv' },
            { id: 'fan', name: 'Ventilador', w: 60, v: 110, icon: 'fa-fan' },
            { id: 'rice', name: 'Olla Reina', w: 800, v: 110, icon: 'fa-bowl-rice' },
            { id: 'freezer', name: 'Freezer', w: 150, v: 110, icon: 'fa-cube' },
            // Equipos 220V
            { id: 'split', name: 'Split Inverter (220V)', w: 900, v: 220, icon: 'fa-wind', color: 'text-yellow-500' },
            { id: 'pump', name: 'Bomba Agua (220V)', w: 750, v: 220, icon: 'fa-water', color: 'text-blue-400' }
        ];

        // --- KIT DATA (Exact Specs from Images) ---
        const kitDetails = {
            '5kw': {
                title: 'Kit 5kW (120V)',
                body: `
                    <div class="space-y-4 text-sm text-gray-300">
                        <div class="bg-red-900/20 p-3 rounded border border-red-500/50 text-center text-red-200 font-bold">
                            ¡IMPORTANTE! Salida 120 VAC Solamente. No conecta equipos 220V.
                        </div>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="text-yellow-500 font-bold border-b border-gray-600 pb-1 mb-2">Generación (DC)</h4>
                                <ul class="list-disc pl-4 space-y-1">
                                    <li><strong>6 Paneles Solares 620Wp</strong></li>
                                    <li>Potencia Total: 3720 Wp</li>
                                    <li>Marca: TW Solar / Leader (Tier 1)</li>
                                    <li>Incluye Soportes Inclinación 15°</li>
                                    <li>Caja de Protecciones DC (LDDB-PV1)</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-blue-400 font-bold border-b border-gray-600 pb-1 mb-2">Inversor y Batería</h4>
                                <ul class="list-disc pl-4 space-y-1">
                                    <li><strong>Inversor Cargador 5kW</strong></li>
                                    <li>Modelo: HF4850U80-H</li>
                                    <li>Salida: 120 VAC (Onda Pura)</li>
                                    <li><strong>Batería LiFePO4: 10.49 kWh</strong></li>
                                    <li>Modelo: SE10B (51.2V 205Ah)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="border-t border-gray-700 pt-4">
                            <p><strong>Incluye Instalación:</strong> Cable 6mm² Cobre, Conectores MC4, Puesta a Tierra y Protecciones AC.</p>
                        </div>
                        <a href="https://wa.me/5358183649?text=Hola,%20me%20interesa%20el%20Kit%205kW%20120V." class="block w-full py-3 bg-green-600 hover:bg-green-500 text-white font-bold text-center rounded-lg mt-4">Solicitar por WhatsApp</a>
                    </div>`
            },
            '6.5kw': {
                title: 'Kit 6.5kW (120/240V)',
                body: `
                    <div class="space-y-4 text-sm text-gray-300">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="text-yellow-500 font-bold border-b border-gray-600 pb-1 mb-2">Generación (DC)</h4>
                                <ul class="list-disc pl-4 space-y-1">
                                    <li><strong>12 Paneles Solares 620Wp</strong></li>
                                    <li>Potencia Total: 7440 Wp</li>
                                    <li>Marca: DHN-66Z16/DG</li>
                                    <li>Incluye Estructura Aluminio 15°</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-blue-400 font-bold border-b border-gray-600 pb-1 mb-2">Inversor y Batería</h4>
                                <ul class="list-disc pl-4 space-y-1">
                                    <li><strong>Inversor 6.5kW Split Phase</strong></li>
                                    <li>Modelo: ASP4865U140-H</li>
                                    <li>Salida: 120 VAC y 240 VAC</li>
                                    <li><strong>Batería LiFePO4: 14.33 kWh</strong></li>
                                    <li>Modelo: SE15B (51.2V 280Ah)</li>
                                </ul>
                            </div>
                        </div>
                        <a href="https://wa.me/5358183649?text=Hola,%20me%20interesa%20el%20Kit%206.5kW." class="block w-full py-3 bg-green-600 hover:bg-green-500 text-white font-bold text-center rounded-lg mt-4">Solicitar por WhatsApp</a>
                    </div>`
            },
            '10kwA': {
                title: 'Kit 10kW Pro (120/240V)',
                body: `
                    <div class="space-y-4 text-sm text-gray-300">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="text-yellow-500 font-bold border-b border-gray-600 pb-1 mb-2">Sistema Solar</h4>
                                <ul class="list-disc pl-4 space-y-1">
                                    <li><strong>16 Paneles Solares 620Wp</strong></li>
                                    <li>Potencia Total: 9920 Wp</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-blue-400 font-bold border-b border-gray-600 pb-1 mb-2">Potencia</h4>
                                <ul class="list-disc pl-4 space-y-1">
                                    <li><strong>Inversor 10kW Industrial</strong></li>
                                    <li>Modelo: ASP48100U200-H</li>
                                    <li>Salida: 120/240 VAC</li>
                                    <li><strong>Batería LiFePO4: 14.33 kWh</strong></li>
                                    <li>Modelo: SE15B (51.2V 280Ah)</li>
                                </ul>
                            </div>
                        </div>
                        <a href="https://wa.me/5358183649?text=Hola,%20me%20interesa%20el%20Kit%2010kW%20Pro." class="block w-full py-3 bg-green-600 hover:bg-green-500 text-white font-bold text-center rounded-lg mt-4">Solicitar por WhatsApp</a>
                    </div>`
            },
            '10kwB': {
                title: 'Kit 10kW PLUS (20.48 kWh)',
                body: `
                    <div class="space-y-4 text-sm text-gray-300">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="text-yellow-500 font-bold border-b border-gray-600 pb-1 mb-2">Generación</h4>
                                <ul class="list-disc pl-4 space-y-1">
                                    <li><strong>16 Paneles Solares 620Wp</strong></li>
                                    <li>Potencia Total: 9920 Wp</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-blue-400 font-bold border-b border-gray-600 pb-1 mb-2">Almacenamiento Masivo</h4>
                                <ul class="list-disc pl-4 space-y-1">
                                    <li><strong>4 Baterías LiFePO4 (Rack)</strong></li>
                                    <li>Modelo: EOCO5B (51.2V 100Ah c/u)</li>
                                    <li><strong>Total: 20.48 kWh</strong></li>
                                    <li>Inversor: 10kW 120/240 VAC</li>
                                </ul>
                            </div>
                        </div>
                        <a href="https://wa.me/5358183649?text=Hola,%20me%20interesa%20el%20Kit%2010kW%20PLUS." class="block w-full py-3 bg-green-600 hover:bg-green-500 text-white font-bold text-center rounded-lg mt-4">Solicitar por WhatsApp</a>
                    </div>`
            }
        };

        // --- CALCULATOR LOGIC ---
        const kits = {
            '5kw': { inverter: 5000, battKwh: 10.49, priceKit: 4685, priceInstall: 500, voltage: 110 },
            '6.5kw': { inverter: 6500, battKwh: 14.336, priceKit: 6985, priceInstall: 750, voltage: 220 },
            '10kwA': { inverter: 10000, battKwh: 14.336, priceKit: 8605, priceInstall: 950, voltage: 220 },
            '10kwB': { inverter: 10000, battKwh: 20.48, priceKit: 9930, priceInstall: 950, voltage: 220 }
        };

        let selectedApps = {};

        function init() {
            const list = document.getElementById('applianceList');
            appliances.forEach(app => {
                const extraClass = app.v === 220 ? 'border-l-4 border-l-yellow-500' : '';
                const voltageLabel = app.v === 220 ? '<span class="text-[10px] bg-yellow-600 text-black px-1 rounded font-bold ml-2">220V</span>' : '';
                
                const div = document.createElement('div');
                div.className = `flex justify-between items-center bg-gray-800 p-3 rounded border border-gray-700 hover:border-gray-500 transition ${extraClass}`;
                div.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="text-yellow-500 w-6 text-center"><i class="fas ${app.icon}"></i></div>
                        <div>
                            <div class="text-sm font-bold text-white flex items-center">${app.name} ${voltageLabel}</div>
                            <div class="text-xs text-gray-500">${app.w} W</div>
                        </div>
                    </div>
                    <div class="flex items-center bg-gray-900 rounded">
                        <button onclick="changeQty('${app.id}', -1)" class="px-3 py-1 text-gray-400 hover:text-white">-</button>
                        <span id="qty-${app.id}" class="w-6 text-center text-sm font-mono text-white">0</span>
                        <button onclick="changeQty('${app.id}', 1)" class="px-3 py-1 text-yellow-500 hover:text-yellow-400 font-bold">+</button>
                    </div>
                `;
                list.appendChild(div);
            });

            document.getElementById('kitSelect').addEventListener('change', calc);
            document.getElementById('nightMode').addEventListener('change', calc);
            calc();
        }

        function changeQty(id, delta) {
            if (!selectedApps[id]) selectedApps[id] = 0;
            selectedApps[id] += delta;
            if (selectedApps[id] < 0) selectedApps[id] = 0;
            document.getElementById(`qty-${id}`).innerText = selectedApps[id];
            calc();
        }

        function calc() {
            const kitId = document.getElementById('kitSelect').value;
            const kit = kits[kitId];
            const night = document.getElementById('nightMode').checked;

            // Update Pricing
            const total = kit.priceKit + kit.priceInstall;
            document.getElementById('totalPriceDisplay').innerText = `$${total.toLocaleString()} USD`;
            
            // Update Specs Display
            document.getElementById('kitSpecs').innerHTML = `
                <div class="flex justify-between"><span>Batería:</span> <span class="text-white">${kit.battKwh} kWh</span></div>
                <div class="flex justify-between"><span>Inversor:</span> <span class="text-white">${kit.inverter} W</span></div>
                <div class="flex justify-between"><span>Voltaje:</span> <span class="${kit.voltage === 110 ? 'text-red-400 font-bold' : 'text-green-400'}">${kit.voltage === 110 ? '120V Único' : '120V / 240V'}</span></div>
            `;

            let load = 0;
            let has220V_Equipment = false;

            appliances.forEach(app => {
                const qty = selectedApps[app.id] || 0;
                load += app.w * qty;
                if (qty > 0 && app.v === 220) has220V_Equipment = true;
            });

            document.getElementById('currentLoad').innerText = `${load} W`;
            document.getElementById('inverterLimit').innerText = `Capacidad: ${kit.inverter}W`;

            // --- CRITICAL VOLTAGE CHECK ---
            const warningBox = document.getElementById('voltageWarning');
            const loadBar = document.getElementById('loadBar');
            
            if (kit.voltage === 110 && has220V_Equipment) {
                warningBox.classList.remove('hidden');
                loadBar.className = "h-full bg-red-600 w-full";
                document.getElementById('autonomyResult').innerText = "ERROR";
                document.getElementById('autonomyMsg').innerText = "Voltaje Incompatible";
                return; // Stop calculation
            } else {
                warningBox.classList.add('hidden');
            }

            // --- LOAD CHECK ---
            const loadPerc = Math.min((load / kit.inverter) * 100, 100);
            loadBar.style.width = `${loadPerc}%`;

            if (load > kit.inverter) {
                loadBar.className = "h-full bg-red-600";
                document.getElementById('autonomyResult').innerText = "0 h";
                document.getElementById('autonomyMsg').innerText = "Sobrecarga Inversor";
                return;
            } else {
                loadBar.className = "h-full bg-green-500 transition-all duration-500";
            }

            if (load === 0) {
                document.getElementById('autonomyResult').innerText = "-- h";
                document.getElementById('autonomyMsg').innerText = "Enciende equipos";
                return;
            }

            // --- AUTONOMY CALC ---
            const usableWh = kit.battKwh * 1000 * 0.90;
            let hours = 0;

            if (night) {
                // Factor de ciclo (compresores no trabajan 100%)
                let dutyCycle = 1.0;
                if ((selectedApps['split'] || 0) > 0 || (selectedApps['refri'] || 0) > 0) dutyCycle = 1.3;
                hours = (usableWh / load) * dutyCycle;
                document.getElementById('autonomyMsg').innerText = "Duración en Apagón (Noche)";
            } else {
                // Generación Solar Promedio
                let panelW = (kitId === '5kw') ? 3720 : (kitId === '6.5kw' ? 7440 : 9920);
                let gen = panelW * 0.7; // 70% eficiencia promedio
                if (gen > load) {
                    hours = 999;
                    document.getElementById('autonomyMsg').innerText = "Funciona con Sol (Sin gastar batería)";
                } else {
                    hours = usableWh / (load - gen);
                    document.getElementById('autonomyMsg').innerText = "Batería cubriendo déficit solar";
                }
            }

            document.getElementById('autonomyResult').innerText = (hours > 24) ? "24h+" : `${hours.toFixed(1)} h`;
        }

        // --- MODAL ---
        function openModal(kitId) {
            document.getElementById('modalTitle').innerText = kitDetails[kitId].title;
            document.getElementById('modalBody').innerHTML = kitDetails[kitId].body;
            document.getElementById('modalOverlay').classList.remove('hidden');
            document.body.classList.add('modal-active');
        }
        function closeModal() {
            document.getElementById('modalOverlay').classList.add('hidden');
            document.body.classList.remove('modal-active');
        }

        init();
    </script>
</body>
</html>